#!/bin/bash
{ {
    for f in "${@}"; do
        printf "%s: %s:\n" "$DATE" "$f"

        basename="$(basename -- "$f")"
        filename="${basename%.*}"
        extension="${basename##*.}"

        out="$filename.tmp.$extension"
        orig="$filename.orig.$extension"
        i='1'
        while [ -f "$orig" ]; do
            orig="$filename.orig.$i.$extension"
            i=$((i + 1))
        done
        cp "$f" "$orig" &&
            /home/tobi/.local/bin/unsilence --non-interactive-mode --threads '2' --audio-only --silent-speed '8' --silence-level '-30' "$f" "$out" &&
            mv "$out" "$f"

        printf "--------------------------------\n\n\n\n"
    done
} 2>&1; } >>unsilence_log.txt
